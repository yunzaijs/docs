"use strict";(self.webpackChunkyunzaijs_website=self.webpackChunkyunzaijs_website||[]).push([[4607],{5648:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>g,frontMatter:()=>r,metadata:()=>t,toc:()=>d});var o=s(4848),l=s(8453);const r={sidebar_position:3},a="\u4e8b\u4ef6",t={id:"b-next/dev-docs/message-event",title:"\u4e8b\u4ef6",description:"Yunzai \u57fa\u4e8e Icqq\u7684\u4e8b\u4ef6\u8fdb\u884c\u6269\u5c55\uff0c\u90e8\u5206\u7c7b\u578b\u53ef\u80fd\u672a\u8fdb\u884c\u8865\u5145\uff0c\u4f1a\u6709\u7c7b\u578b\u7206\u7ea2",source:"@site/docs/b-next/dev-docs/3-message-event.md",sourceDirName:"b-next/dev-docs",slug:"/b-next/dev-docs/message-event",permalink:"/docs/docs/b-next/dev-docs/message-event",draft:!1,unlisted:!1,editUrl:"https://github.com/yunzaijs/docs/tree/main/docs/b-next/dev-docs/3-message-event.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"\u6a21\u5757",permalink:"/docs/docs/b-next/dev-docs/new-features"},next:{title:"\u673a\u5236",permalink:"/docs/docs/b-next/dev-docs/plugins-event"}},i={},d=[{value:"\u7fa4\u804a",id:"\u7fa4\u804a",level:2},{value:"\u56de\u590d",id:"\u56de\u590d",level:3},{value:"\u56fe\u7247",id:"\u56fe\u7247",level:3},{value:"\u8f6c\u53d1",id:"\u8f6c\u53d1",level:3},{value:"\u8f6c\u79c1\u804a",id:"\u8f6c\u79c1\u804a",level:3},{value:"\u79c1\u804a",id:"\u79c1\u804a",level:2},{value:"\u56de\u590d",id:"\u56de\u590d-1",level:3},{value:"\u590d\u5408",id:"\u590d\u5408",level:3}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\u4e8b\u4ef6",children:"\u4e8b\u4ef6"})}),"\n",(0,o.jsx)(n.admonition,{title:"\u63d0\u793a",type:"tip",children:(0,o.jsx)(n.p,{children:"Yunzai \u57fa\u4e8e Icqq\u7684\u4e8b\u4ef6\u8fdb\u884c\u6269\u5c55\uff0c\u90e8\u5206\u7c7b\u578b\u53ef\u80fd\u672a\u8fdb\u884c\u8865\u5145\uff0c\u4f1a\u6709\u7c7b\u578b\u7206\u7ea2"})}),"\n",(0,o.jsx)(n.h2,{id:"\u7fa4\u804a",children:"\u7fa4\u804a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"export interface EventType {\n  isMaster: boolean // \u662f\u5426\u662f\u4e3b\u4eba\n  isGroup: boolean // \u662f\u5426\u662f\u7fa4\u91cc\n  isPrivate?: boolean // \u662f\u79c1\u804a\n  isGuild?: boolean // \u662f\u9891\u9053\n  msg: string // \u7528\u6237\u6d88\u606f\n  user_id: string // \u7528\u6237\u7f16\u53f7\n  user_name: string // \u7528\u6237\u540d\n  user_avatar: string // \u7528\u6237\u5934\u50cf\n  group_id: number // \u7fa4\u53f7\n  group_name: string // \u7fa4\u540d\n  group_avatar: string // \u7fa4\u5934\u50cf\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u56de\u590d",children:"\u56de\u590d"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { Messages } from 'yunzaijs'\nconst message = new Messages('message.group')\nmessage.use(\n  e => {\n    e.reply('hello word')\n  },\n  // hello #hello /hello\n  [/^(#|\\/)?hello/]\n)\nexport const Word = message.ok\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u56fe\u7247",children:"\u56fe\u7247"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { Messages, Segment } from 'yunzaijs'\nconst message = new Messages('message.group')\nmessage.use(\n  e => {\n    const img: Buffer | null = null\n    e.reply(Segment.image(img))\n  },\n  // hello #hello /hello\n  [/^(#|\\/)?hello/]\n)\nexport const Word = message.ok\n"})}),"\n",(0,o.jsx)(n.p,{children:"#######\u590d\u5408"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { Messages, Segment } from 'yunzaijs'\nconst message = new Messages('message.group')\nmessage.use(\n  e => {\n    const img: Buffer | null = null\n    e.reply(['\u8fd9\u662f\u4e00\u5f20\u56fe\u7247', Segment.image(img)])\n  },\n  // hello #hello /hello\n  [/^(#|\\/)?hello/]\n)\nexport const Word = message.ok\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u8f6c\u53d1",children:"\u8f6c\u53d1"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { Messages, Segment, makeForwardMsg } from 'yunzaijs'\nconst message = new Messages('message.group')\nmessage.use(\n  async e => {\n    const Message = await makeForwardMsg(this.e, ['hello', 'word'], 'this is makeForwardMsg')\n    e.reply(Message)\n  },\n  // hello #hello /hello\n  [/^(#|\\/)?hello/]\n)\nexport const Word = message.ok\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u8f6c\u79c1\u804a",children:"\u8f6c\u79c1\u804a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { Messages, Bot } from 'yunzaijs'\nconst message = new Messages('message.group')\nmessage.ues(\n  e => {\n    const UID = e.user_id\n    // \u5b58\u5728\u597d\u53cb\n    const friend = Bot.fl.get(UID)\n    if (friend) {\n      Bot.pickUser(UID).sendMsg('hell word')\n    } else {\n      e.reply('hello word')\n    }\n  },\n  // hello #hello /hello\n  [/^(#|\\/)?hello/]\n)\nexport const Word = message.ok\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u79c1\u804a",children:"\u79c1\u804a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"export interface EventType {\n  isMaster: boolean // \u662f\u5426\u662f\u4e3b\u4eba\n  isGroup: boolean // \u662f\u5426\u662f\u7fa4\u91cc\n  isPrivate?: boolean // \u662f\u79c1\u804a\n  isGuild?: boolean // \u662f\u9891\u9053\n  msg: string // \u7528\u6237\u6d88\u606f\n  user_id: string // \u7528\u6237\u7f16\u53f7\n  user_name: string // \u7528\u6237\u540d\n  user_avatar: string // \u7528\u6237\u5934\u50cf\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u56de\u590d-1",children:"\u56de\u590d"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { Messages } from 'yunzaijs'\nconst message = new Messages('message.private')\nmessage.ues(\n  e => {\n    e.reply('hello word')\n  },\n  // hello #hello /hello\n  [/^(#|\\/)?hello/]\n)\nexport const Word = message.ok\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u590d\u5408",children:"\u590d\u5408"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"import { Messages, Segment } from 'yunzaijs'\nconst message = new Messages('message.private')\nmessage.use(\n  e => {\n    const img: Buffer | null = null\n    e.reply(['\u8fd9\u662f\u4e00\u5f20\u56fe\u7247', Segment.image(img)])\n  },\n  // hello #hello /hello\n  [/^(#|\\/)?hello/]\n)\nexport const Word = message.ok\n"})})]})}function g(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var o=s(6540);const l={},r=o.createContext(l);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);